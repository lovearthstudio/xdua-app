!function(e){function t(t){for(var n,a,i=t[0],l=t[1],c=t[2],f=0,p=[];f<i.length;f++)a=i[f],o[a]&&p.push(o[a][0]),o[a]=0;for(n in l)Object.prototype.hasOwnProperty.call(l,n)&&(e[n]=l[n]);for(s&&s(t);p.length;)p.shift()();return u.push.apply(u,c||[]),r()}function r(){for(var e,t=0;t<u.length;t++){for(var r=u[t],n=!0,i=1;i<r.length;i++){var l=r[i];0!==o[l]&&(n=!1)}n&&(u.splice(t--,1),e=a(a.s=r[0]))}return e}var n={},o={2:0},u=[];function a(t){if(n[t])return n[t].exports;var r=n[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,a),r.l=!0,r.exports}a.e=function(e){var t=[],r=o[e];if(0!==r)if(r)t.push(r[2]);else{var n=new Promise(function(t,n){r=o[e]=[t,n]});t.push(r[2]=n);var u,i=document.getElementsByTagName("head")[0],l=document.createElement("script");l.charset="utf-8",l.timeout=120,a.nc&&l.setAttribute("nonce",a.nc),l.src=function(e){return a.p+""+({}[e]||e)+"."+{0:"548652b2317d3e99aa5e"}[e]+".js"}(e),u=function(t){l.onerror=l.onload=null,clearTimeout(c);var r=o[e];if(0!==r){if(r){var n=t&&("load"===t.type?"missing":t.type),u=t&&t.target&&t.target.src,a=new Error("Loading chunk "+e+" failed.\n("+n+": "+u+")");a.type=n,a.request=u,r[1](a)}o[e]=void 0}};var c=setTimeout(function(){u({type:"timeout",target:l})},12e4);l.onerror=l.onload=u,i.appendChild(l)}return Promise.all(t)},a.m=e,a.c=n,a.d=function(e,t,r){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},a.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(a.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)a.d(r,n,function(t){return e[t]}.bind(null,n));return r},a.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="",a.oe=function(e){throw console.error(e),e};var i=window.webpackJsonp=window.webpackJsonp||[],l=i.push.bind(i);i.push=t,i=i.slice();for(var c=0;c<i.length;c++)t(i[c]);var s=l;u.push([508,1]),r()}({104:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getDuaIdFromServer=void 0,t.getDuaIdFromServer=function(){var e=function(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,r){return function n(o,u){try{var a=t[o](u),i=a.value}catch(e){return void r(e)}if(!a.done)return Promise.resolve(i).then(function(e){n("next",e)},function(e){n("throw",e)});e(i)}("next")})}}(regeneratorRuntime.mark(function e(){var t,r,o,u,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"unknown",i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"unknown",l=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"unknown";return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t={dsn:"",type:"browser",model:a,man:i,os:l,apv:"1.0.0",aname:"www.xdua.com",app:"com.wikicivi.admin",channel:"RELEASE",pkg:"test.pname.292607778"},r="/dua",o={apiv:n.API_VERSION,sign:(0,n.generateSign)({method:"POST",path:r,appSecret:n.APP_SECRET,appKey:n.APP_KEY})},e.next=5,n.axios.post(r,t,{headers:o});case 5:return u=e.sent,e.abrupt("return",(0,n.generalResponseBuilder)(u));case 7:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}();var n=r(54)},12:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ROOT="/";var n=t.PUBLIC="/public",o=(t.LOGIN=n+"/login",t.SIGN_UP=n+"/signUp",t.RESET_PASSWORD=n+"/resetPassword",t.PRIVATE="/private"),u=(t.PROFILE=o+"/profile",t.MY_APPS=o+"/myApps",t.MY_GROUPS=o+"/myGroups"),a=(t.CREATE_GROUP=u+"/create",t.USER_GROUP_ID=":userGroupId"),i=(t.EDIT_GROUP=u+"/edit/"+a,t.GROUP_DETAIL=u+"/group/"+a+"/detail"),l=t.ROLE="/roles",c=t.ROLE_ID=":roleId",s=t.ROLE_LIST=i+l,f=(t.EDIT_ROLE=s+"/edit/"+c,t.CREATE_ROLE=s+"/create",t.USER_ROLE="/userRoles"),p=t.USER_ROLE_ID=":userRoleId",d=t.USER_ROLE_LIST=i+f;t.EDIT_USER_ROLE=d+"/edit/"+p,t.CREATE_USER_ROLE=d+"/create"},140:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,o,u,a=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),i=r(1),l=d(i),c=(r(9),r(19)),s=r(18),f=d(r(0)),p=(d(r(11)),r(75));function d(e){return e&&e.__esModule?e:{default:e}}var b=(0,c.observer)((u=o=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return r.onSubmit=r.onSubmit.bind(r),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.Component),a(t,[{key:"onSubmit",value:function(e){e.preventDefault(),this.props.submit()}},{key:"render",value:function(){var e=this.props,t=e.role,r=e.isCreate,n=t.avatar,o=t.brief,u=(t.enabled,t.granter),a=t.name,i=t.code;return l.default.createElement(s.Form,null,r?l.default.createElement(s.FormGroup,null,l.default.createElement(s.Label,{for:"code"},l.default.createElement("h4",null,"代号")),l.default.createElement(s.Input,{type:"text",id:"code",onChange:function(e){return t.code=e.target.value},value:i})):l.default.createElement("h4",null,"代号: ",i),r&&l.default.createElement(s.FormGroup,null,l.default.createElement(s.Label,{for:"username"},l.default.createElement("h4",null,"授权人")),l.default.createElement(s.Input,{type:"text",id:"code",onChange:function(e){return t.granter=e.target.value},value:u})),l.default.createElement(s.FormGroup,null,l.default.createElement(s.Label,{for:"name"},l.default.createElement("h4",null,"名称")),l.default.createElement(s.Input,{type:"text",id:"name",onChange:function(e){return t.name=e.target.value},value:a})),l.default.createElement(s.FormGroup,null,l.default.createElement(s.Label,{for:"brief"},l.default.createElement("h4",null,"描述")),l.default.createElement(s.Input,{type:"text",id:"brief",onChange:function(e){return t.brief=e.target.value},value:o})),l.default.createElement(s.FormGroup,null,l.default.createElement(s.Label,{for:"avatar"},l.default.createElement("h4",null,"头像")),l.default.createElement(s.Input,{type:"text",id:"avatar",onChange:function(e){return t.avatar=e.target.value},value:n})),l.default.createElement(s.Button,{color:"primary",type:"submit",onClick:this.onSubmit},"确定"))}}]),t}(),o.propTypes={role:p.roleShape,submit:f.default.func.isRequired,isCreate:f.default.bool.isRequired},n=u))||n;t.default=b},141:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,o,u,a=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),i=r(1),l=d(i),c=r(19),s=r(18),f=d(r(0)),p=d(r(11));function d(e){return e&&e.__esModule?e:{default:e}}var b=(0,c.inject)(function(e){var t=e.authenticationStore,r=e.groupStore;return{userId:t.userId,group:r.group}})(n=(0,c.observer)((u=o=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e)),n=r.props,o=n.group,u=n.creating;return r.state=!0===u?{name:"",code:"",brief:""}:{name:o.name,code:o.code,brief:o.brief},r.handleNameChange=r.handleNameChange.bind(r),r.handleCodeChange=r.handleCodeChange.bind(r),r.handleDescriptionChange=r.handleDescriptionChange.bind(r),r.onSubmit=r.onSubmit.bind(r),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.Component),a(t,[{key:"handleNameChange",value:function(e){this.setState({name:e.target.value})}},{key:"handleCodeChange",value:function(e){this.setState({code:e.target.value})}},{key:"handleDescriptionChange",value:function(e){this.setState({brief:e.target.value})}},{key:"onSubmit",value:function(e){e.preventDefault();var t=this.state,r=t.name,n=t.code,o=t.brief,u=this.props,a=u.userId,i=u.submit,l=u.group,c={name:r,avatar:"http://icons.iconarchive.com/icons/paomedia/small-n-flat/1024/profile-icon.png",brief:o};p.default.isNil(l.id)?(c.bywho=a,c.code=n):c.userGroupId=l.id,i(c)}},{key:"render",value:function(){var e=this.state,t=e.code,r=e.name,n=e.brief;return l.default.createElement(s.Form,null,l.default.createElement(s.FormGroup,null,l.default.createElement(s.Label,{for:"id"},l.default.createElement("h4",null,"代号")),l.default.createElement(s.Input,{type:"text",id:"code",onChange:this.handleCodeChange,value:t})),l.default.createElement(s.FormGroup,null,l.default.createElement(s.Label,{for:"username"},l.default.createElement("h4",null,"名称")),l.default.createElement(s.Input,{type:"text",id:"name",onChange:this.handleNameChange,value:r})),l.default.createElement(s.FormGroup,null,l.default.createElement(s.Label,{for:"description"},l.default.createElement("h4",null,"描述")),l.default.createElement(s.Input,{type:"text",id:"brief",onChange:this.handleDescriptionChange,value:n})),l.default.createElement(s.Button,{color:"primary",type:"submit",onClick:this.onSubmit},"确定"))}}]),t}(),o.propTypes={group:f.default.shape({name:f.default.string,code:f.default.string,brief:f.default.string}),userId:f.default.string,submit:f.default.func.isRequired,creating:f.default.bool},n=u))||n)||n;t.default=b},142:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,o,u,a=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),i=r(1),l=b(i),c=r(19),s=r(18),f=b(r(0)),p=b(r(11)),d=b(r(219));function b(e){return e&&e.__esModule?e:{default:e}}var h=(0,c.inject)(function(e){var t=e.vfcodeStore,r=t.getVfcodeByPhone;return{error:t.error,getVfcodeByPhone:r,resetError:t.resetError}})(n=(0,c.observer)((u=o=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return r.state={username:"",password:"",vfcode:""},r.handleUsernameChange=r.handleUsernameChange.bind(r),r.handlePasswordChange=r.handlePasswordChange.bind(r),r.handleVfcodeChange=r.handleVfcodeChange.bind(r),r.onSubmit=r.onSubmit.bind(r),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.Component),a(t,[{key:"handleUsernameChange",value:function(e){this.setState({username:e.target.value})}},{key:"handlePasswordChange",value:function(e){this.setState({password:e.target.value})}},{key:"handleVfcodeChange",value:function(e){this.setState({vfcode:e.target.value})}},{key:"onSubmit",value:function(e){e.preventDefault();var t=this.state,r=t.username,n=t.password,o=t.vfcode;this.props.submit({username:r,password:n,vfcode:o})}},{key:"componentWillUnmount",value:function(){this.props.resetError()}},{key:"renderError",value:function(){if(!p.default.isNil(this.props.error))return l.default.createElement("div",null,l.default.createElement(s.Alert,{color:"danger"},this.props.error))}},{key:"render",value:function(){var e=this.state.username;return l.default.createElement(s.Form,null,this.renderError(),l.default.createElement(s.FormGroup,{row:!0},l.default.createElement(s.Label,{for:"username",sm:4},l.default.createElement("h4",null,"电话")),l.default.createElement(s.Col,null,l.default.createElement(s.Input,{type:"text",id:"username",onChange:this.handleUsernameChange}))),l.default.createElement(s.FormGroup,{row:!0},l.default.createElement(s.Label,{for:"vfcode",sm:4},l.default.createElement("h4",null,"验证码")),l.default.createElement(s.Col,null,l.default.createElement(s.Input,{type:"text",id:"vfcode",onChange:this.handleVfcodeChange})),l.default.createElement(s.Col,null,l.default.createElement(d.default,{username:e}))),l.default.createElement(s.FormGroup,{row:!0},l.default.createElement(s.Label,{for:"password",sm:4},l.default.createElement("h4",null,"密码")),l.default.createElement(s.Col,null,l.default.createElement(s.Input,{type:"password",id:"password",onChange:this.handlePasswordChange}))),l.default.createElement(s.Button,{block:!0,color:"primary",type:"submit",onClick:this.onSubmit},"确认"))}}]),t}(),o.propTypes={error:f.default.string,submit:f.default.func.isRequired,resetError:f.default.func},n=u))||n)||n;t.default=h},144:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.queryRole=t.getRole=t.editRole=t.createRole=void 0,t.createRole=function(){var e=o(regeneratorRuntime.mark(function e(t){var r,o,u,a,i=t.token,l=t.duaId,c=t.ugrp,s=t.code,f=t.granter,p=t.name,d=t.avatar,b=t.brief;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r="/role",o=(0,n.buildGeneralHeaders)("POST",r,l),u=Object.assign({},{token:i,ugrp:c,code:s,granter:f,name:p,avatar:d,brief:b}),e.next=5,n.axios.post(r,u,{headers:o});case 5:return a=e.sent,e.abrupt("return",(0,n.generalResponseBuilder)(a));case 7:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),t.editRole=function(){var e=o(regeneratorRuntime.mark(function e(t){var r,o,u,a,i=t.token,l=t.duaId,c=t.roleId,s=t.name,f=t.avatar,p=t.brief,d=t.enabled;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r="/role/"+c,o=(0,n.buildGeneralHeaders)("PUT",r,l),u=Object.assign({},{token:i,name:s,avatar:f,brief:p,enabled:d}),e.next=5,n.axios.put(r,u,{headers:o});case 5:return a=e.sent,e.abrupt("return",(0,n.generalResponseBuilder)(a));case 7:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),t.getRole=function(){var e=o(regeneratorRuntime.mark(function e(t){var r,o,u,a,i=t.token,l=t.duaId,c=t.roleId;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r="/role/"+c,o=(0,n.buildGeneralHeaders)("GET",r,l),u={token:i},e.next=5,n.axios.get(r,{headers:o,params:u});case 5:return a=e.sent,e.abrupt("return",(0,n.generalResponseBuilder)(a));case 7:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),t.queryRole=function(){var e=o(regeneratorRuntime.mark(function e(t){var r,o,u,a,i,l=t.token,c=t.duaId,s=t.uid,f=t.ugrp,p=t.name,d=t.brief,b=t.offset,h=t.limit,m=t.order,v=t.granter;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r="/role",o=(0,n.buildGeneralHeaders)("GET",r,c),u=Object.assign({},o,{token:l}),a=Object.assign({},{uid:s,ugrp:f,name:p,offset:b,brief:d,limit:h,order:m,granter:v}),e.next=6,n.axios.get(r,{headers:u,params:a});case 6:return i=e.sent,e.abrupt("return",(0,n.generalResponseBuilder)(i));case 8:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}();var n=r(54);function o(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,r){return function n(o,u){try{var a=t[o](u),i=a.value}catch(e){return void r(e)}if(!a.done)return Promise.resolve(i).then(function(e){n("next",e)},function(e){n("throw",e)});e(i)}("next")})}}},145:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=new(r(158).RouterStore);t.default=n},146:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getUser=t.queryUser=t.setUpUser=t.changePassword=t.resetPassword=t.signUp=void 0,t.signUp=function(){var e=o(regeneratorRuntime.mark(function e(t){var r,o,a,i,l,c=t.duaId,s=t.username,f=t.password,p=t.vfcode,d=t.ugrp,b=t.role,h=t.byPhone;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r="/user",o=(0,n.buildGeneralHeaders)("POST",r,c),a=(0,n.md5)(f),i=u(i=Object.assign({},{pwd:a,vfcode:p,ugrp:d,role:b}),s,h),e.next=7,n.axios.post(r,i,{headers:o});case 7:return l=e.sent,e.abrupt("return",(0,n.generalResponseBuilder)(l));case 9:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),t.resetPassword=function(){var e=o(regeneratorRuntime.mark(function e(t){var r,o,a,i,l,c=t.duaId,s=t.username,f=t.password,p=t.vfcode,d=t.byPhone;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r="/repass",o=(0,n.buildGeneralHeaders)("POST",r,c),a=(0,n.md5)(f),i=u(i=Object.assign({},{action:"reset",pwd:a,vfcode:p}),s,d),console.log(i),e.next=8,n.axios.post(r,i,{headers:o});case 8:return l=e.sent,e.abrupt("return",(0,n.generalResponseBuilder)(l));case 10:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),t.changePassword=function(){var e=o(regeneratorRuntime.mark(function e(t){var r,o,u,a,i,l,c=t.token,s=t.duaId,f=t.password,p=t.oldpassword,d=t.vfcode,b=t.user_id;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r="/pass/"+b,o=(0,n.buildGeneralHeaders)("PUT",r,s),u=(0,n.md5)(f),a=(0,n.md5)(p),i=Object.assign({},{token:c,action:"reset",oldpwd:a,pwd:u,vfcode:d}),e.next=7,n.axios.put(r,i,{headers:o});case 7:return l=e.sent,e.abrupt("return",(0,n.generalResponseBuilder)(l));case 9:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),t.setUpUser=function(){var e=o(regeneratorRuntime.mark(function e(t){var r,o,u,a,i=t.token,l=t.duaId,c=t.user_id,s=t.name,f=t.saying,p=t.sex,d=t.bday,b=t.avatar,h=t.brief,m=t.mail;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r="/user/"+c,o=(0,n.buildGeneralHeaders)("PUT",r,l),u=Object.assign({},{token:i,name:s,saying:f,sex:p,bday:d,avatar:b,brief:h,mail:m}),e.next=5,n.axios.put(r,u,{headers:o});case 5:return a=e.sent,e.abrupt("return",(0,n.generalResponseBuilder)(a));case 7:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),t.queryUser=function(){var e=o(regeneratorRuntime.mark(function e(t){var r,o,u,a,i=t.token,l=t.duaId,c=t.tel,s=t.mail,f=t.name,p=t.brief,d=t.offset,b=t.limit,h=t.page,m=t.order;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r="/user",o=(0,n.buildGeneralHeaders)("GET",r,l),u=Object.assign({},{token:i,tel:c,mail:s,name:f,offset:d,brief:p,limit:b,page:h,order:m}),e.next=5,n.axios.get(r,{headers:o,params:u});case 5:return a=e.sent,e.abrupt("return",(0,n.generalResponseBuilder)(a));case 7:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),t.getUser=function(){var e=o(regeneratorRuntime.mark(function e(t){var r,o,u,a,i=t.token,l=t.duaId,c=t.user_id;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r="/user/"+c,o=(0,n.buildGeneralHeaders)("GET",r,l),u={token:i},e.next=5,n.axios.get(r,{headers:o,params:u});case 5:return a=e.sent,e.abrupt("return",(0,n.generalResponseBuilder)(a));case 7:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}();var n=r(54);function o(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,r){return function n(o,u){try{var a=t[o](u),i=a.value}catch(e){return void r(e)}if(!a.done)return Promise.resolve(i).then(function(e){n("next",e)},function(e){n("throw",e)});e(i)}("next")})}}function u(e,t,r){if(!0===r){var o=(0,n.formatPhoneNumber)(t);return Object.assign(e,{by:"tel",ustr:o})}return Object.assign(e,{by:"mail",ustr:t})}},147:function(e,t,r){"use strict";var n=r(157).md5,o=r(11);function u(e){var t;return t=o.isNil(e)?n(Math.random()):n(e),{generateSign:function(e){var r=e.method,o=e.path,u=e.appSecret,a=e.appKey,i=n(r+o+t+u);return a+"|"+t+"|"+i}}}var a=u().generateSign;e.exports={Sign:u,generateSign:a}},153:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.API_END_POINT=t.APP_KEY=t.APP_SECRET=void 0;var n,o,u,a=function(e){return e&&e.__esModule?e:{default:e}}(r(11));function i(e){return"Variable: "+e+" is not defined"}if(n="e54b127abc7cca1862dac91db6256190",o="aHEVYhE0",u="http://agi.xdua.com/",a.default.isNil(o))throw new Error(i("APP_KEY"));if(a.default.isNil(n))throw new Error(i("APP_SECRET"));if(a.default.isNil(u))throw i("API_END_POINT");t.APP_SECRET="e54b127abc7cca1862dac91db6256190",t.APP_KEY="aHEVYhE0",t.API_END_POINT="http://agi.xdua.com/"},154:function(e,t,r){"use strict";var n=r(153);e.exports={API_VERSION:"1.0.0",APP_KEY:n.APP_KEY,APP_SECRET:n.APP_SECRET}},157:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.md5=function(e){return n.MD5(e).toString()};var n=r(280)},200:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,o,u,a=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),i=r(1),l=b(i),c=r(19),s=r(18),f=r(24),p=b(r(0)),d=r(12);function b(e){return e&&e.__esModule?e:{default:e}}var h=(0,c.inject)(function(e){return{logOut:e.authenticationStore.logOut}})(n=(0,c.observer)((u=o=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return r.onLogOut=r.onLogOut.bind(r),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.Component),a(t,[{key:"onLogOut",value:function(){this.props.logOut()}},{key:"render",value:function(){return l.default.createElement("div",null,l.default.createElement(s.Navbar,{color:"light",light:!0,expand:"md"},l.default.createElement(s.NavbarBrand,null,"地球号"),l.default.createElement(s.Nav,{className:"ml-auto",navbar:!0},l.default.createElement(s.NavItem,null,l.default.createElement(s.NavLink,{tag:f.Link,to:d.PROFILE},"用户信息")),l.default.createElement(s.NavItem,null,l.default.createElement(s.NavLink,{tag:f.Link,to:d.MY_GROUPS},"我的户群")),l.default.createElement(s.NavItem,null,l.default.createElement(s.NavLink,{tag:f.Link,to:d.MY_APPS},"我的应用")),l.default.createElement(s.NavItem,null,l.default.createElement(s.Button,{onClick:this.onLogOut,color:"danger"},"登出")))))}}]),t}(),o.propTypes={logOut:p.default.func},n=u))||n)||n;t.default=h},201:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,o,u,a=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),i=r(19),l=r(1),c=h(l),s=(r(18),h(r(11))),f=h(r(0)),p=(r(24),r(12),r(75)),d=r(39),b=h(r(140));function h(e){return e&&e.__esModule?e:{default:e}}var m=(0,i.inject)(function(e){var t=e.userRoleStore,r=e.routingStore,n=t.buildRoleListURI,o=t.initializeRole,u=t.createRole;return{role:t.role,initializeRole:o,buildRoleListURI:n,createRole:u,loading:t.loading,error:t.error,push:r.push}})(n=(0,i.observer)((u=o=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return r.state={userGroupId:null},r.onCreateUserRole=r.onCreateUserRole.bind(r),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,l.Component),a(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.match;(0,e.initializeRole)();var r=t.params.userGroupId;this.setState({userGroupId:r})}},{key:"onCreateUserRole",value:function(){var e=function(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,r){return function n(o,u){try{var a=t[o](u),i=a.value}catch(e){return void r(e)}if(!a.done)return Promise.resolve(i).then(function(e){n("next",e)},function(e){n("throw",e)});e(i)}("next")})}}(regeneratorRuntime.mark(function e(){var t,r,n,o,u,a,i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.props,r=t.createRole,n=t.push,o=t.buildRoleListURI,u=this.state.userGroupId,e.next=4,r(u);case 4:a=this.props.error,s.default.isNil(a)&&(i=o({userGroupId:u}),n(i));case 6:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.props,t=e.loading,r=e.error,n=e.role,o=(0,d.buildLoadingAndError)({loading:t,error:r});return s.default.isNil(o)?c.default.createElement("div",null,"创建授权",c.default.createElement(b.default,{role:n,submit:this.onCreateUserRole,isCreate:!0})):o}}]),t}(),o.propTypes={match:f.default.shape({params:f.default.object}),role:p.roleShape,buildRoleListURI:f.default.func,createRole:f.default.func,initializeRole:f.default.func,loading:f.default.bool,error:f.default.string,push:f.default.func},n=u))||n)||n;t.default=m},202:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.userRoleShape=void 0;var n=function(e){return e&&e.__esModule?e:{default:e}}(r(0));t.userRoleShape=n.default.shape({id:n.default.string,ugrp:n.default.string,role:n.default.string,uid:n.default.string,byuid:n.default.string,note:n.default.string,expire:n.default.string,enabled:n.default.string,cstamp:n.default.string})},203:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,o,u,a=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),i=r(19),l=r(1),c=m(l),s=r(18),f=m(r(11)),p=m(r(0)),d=r(24),b=(r(12),r(75),r(202)),h=r(39);function m(e){return e&&e.__esModule?e:{default:e}}var v=(0,i.inject)(function(e){var t=e.userRoleStore,r=e.routingStore,n=t.userRoles,o=t.getUserRoles,u=t.buildCreateUserRoleURI,a=t.buildEditRoleURI,i=t.loading,l=t.error;return{userRoles:n,getUserRoles:o,buildCreateUserRoleURI:u,buildEditRoleURI:a,push:r.push,loading:i,error:l}})(n=(0,i.observer)((u=o=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return r.renderUserRoleList=r.renderUserRoleList.bind(r),r.state={userGroupId:null},r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,l.Component),a(t,[{key:"componentDidMount",value:function(){var e=this.props.match.params.userGroupId;this.setState({userGroupId:e}),this.props.getUserRoles(e)}},{key:"renderUserRoleList",value:function(){this.state.userGroupId;var e=this.props,t=e.userRoles;return e.push,e.buildEditRoleURI,console.log(t),f.default.map(t,function(e){var t=e.id;return c.default.createElement("tr",{key:t},c.default.createElement("th",{scope:"row"},e.uid),c.default.createElement("th",{scope:"row"},e.role),c.default.createElement("th",{scope:"row"},e.byuid),c.default.createElement("th",{scope:"row"},e.note),c.default.createElement("th",{scope:"row"},(0,h.isEnabled)(e.enabled)))})}},{key:"render",value:function(){var e=this.props,t=e.loading,r=e.error,n=e.buildCreateUserRoleURI,o=this.state.userGroupId,u=(0,h.buildLoadingAndError)({loading:t,error:r});if(!f.default.isNil(u))return u;var a=n({userGroupId:o});return c.default.createElement("div",null,c.default.createElement(d.Link,{to:a},c.default.createElement(s.Button,{color:"primary"},"创建授权")),"授权列表 from 用户群：",this.state.userGroupId,c.default.createElement(s.Table,{responsive:!0},c.default.createElement("thead",null,c.default.createElement("tr",null,c.default.createElement("th",null,"用户名字"),c.default.createElement("th",null,"用户角色"),c.default.createElement("th",null,"授权人名字"),c.default.createElement("th",null,"备注"),c.default.createElement("th",null,"操作"))),c.default.createElement("tbody",null,this.renderUserRoleList())))}}]),t}(),o.propTypes={match:p.default.shape({params:p.default.object}),userRoles:i.PropTypes.observableArrayOf(b.userRoleShape),getUserRoles:p.default.func,buildEditRoleURI:p.default.func,push:p.default.func,loading:p.default.bool,error:p.default.string},n=u))||n)||n;t.default=v},204:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),o=r(1),u=f(o),a=r(24),i=r(12),l=f(r(66)),c=f(r(203)),s=f(r(201));function f(e){return e&&e.__esModule?e:{default:e}}var p=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.Component),n(t,[{key:"render",value:function(){return u.default.createElement("div",null,u.default.createElement(a.Switch,null,u.default.createElement(a.Route,{path:i.CREATE_USER_ROLE,component:s.default}),u.default.createElement(a.Route,{exact:!0,path:i.USER_ROLE_LIST,component:c.default}),u.default.createElement(a.Route,{component:l.default})))}}]),t}();t.default=p},205:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,o,u,a=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),i=r(19),l=r(1),c=h(l),s=(r(18),h(r(11))),f=h(r(0)),p=(r(24),r(12),r(75)),d=r(39),b=h(r(140));function h(e){return e&&e.__esModule?e:{default:e}}var m=(0,i.inject)(function(e){var t=e.singleRoleStore,r=e.routingStore,n=t.getRole,o=t.editRole,u=t.buildRoleListURI;return{role:t.role,getRole:n,buildRoleListURI:u,editRole:o,loading:t.loading,error:t.error,push:r.push}})(n=(0,i.observer)((u=o=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return r.state={roleId:null,userGroupId:null},r.onEditRole=r.onEditRole.bind(r),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,l.Component),a(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.match,r=e.getRole,n=t.params,o=n.roleId,u=n.userGroupId;this.setState({roleId:o,userGroupId:u}),r({roleId:o})}},{key:"onEditRole",value:function(){var e=function(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,r){return function n(o,u){try{var a=t[o](u),i=a.value}catch(e){return void r(e)}if(!a.done)return Promise.resolve(i).then(function(e){n("next",e)},function(e){n("throw",e)});e(i)}("next")})}}(regeneratorRuntime.mark(function e(){var t,r,n,o,u,a,i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.props,r=t.editRole,n=t.buildRoleListURI,o=t.push,u=this.state.userGroupId,e.next=4,r();case 4:a=this.props.error,s.default.isNil(a)&&(i=n({userGroupId:u}),o(i));case 6:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.props,t=e.loading,r=e.error,n=e.role,o=this.state.roleId,u=(0,d.buildLoadingAndError)({loading:t,error:r});return s.default.isNil(u)?s.default.isNil(n)?c.default.createElement("div",null,"未找到ID为",o,"的角色"):c.default.createElement("div",null,"编辑角色",o,c.default.createElement(b.default,{role:n,submit:this.onEditRole,isCreate:!1})):u}}]),t}(),o.propTypes={match:f.default.shape({params:f.default.object}),role:p.roleShape,getRole:f.default.func,editRole:f.default.func,buildRoleListURI:f.default.func,loading:f.default.bool,error:f.default.string,push:f.default.func},n=u))||n)||n;t.default=m},206:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,o,u,a=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),i=r(19),l=r(1),c=m(l),s=r(18),f=m(r(11)),p=m(r(0)),d=r(24),b=(r(12),r(75)),h=r(39);function m(e){return e&&e.__esModule?e:{default:e}}var v=(0,i.inject)(function(e){var t=e.roleStore,r=e.routingStore,n=t.roles,o=t.getRoles,u=t.buildCreateRoleURI,a=t.buildEditRoleURI,i=t.loading,l=t.error;return{roles:n,getRoles:o,buildCreateRoleURI:u,buildEditRoleURI:a,push:r.push,loading:i,error:l}})(n=(0,i.observer)((u=o=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return r.renderRoleList=r.renderRoleList.bind(r),r.state={userGroupId:null},r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,l.Component),a(t,[{key:"componentDidMount",value:function(){var e=this.props.match.params.userGroupId;this.setState({userGroupId:e}),this.props.getRoles(e)}},{key:"renderRoleList",value:function(){var e=this.state.userGroupId,t=this.props,r=t.roles,n=t.push,o=t.buildEditRoleURI;return console.log(r),f.default.map(r,function(t){var r=t.id;return c.default.createElement("tr",{key:r},c.default.createElement("th",{scope:"row"},t.name),c.default.createElement("th",{scope:"row"},t.ugrp),c.default.createElement("th",{scope:"row"},t.usroc),c.default.createElement("th",{scope:"row"},(0,h.isEnabled)(t.enabled)),c.default.createElement("th",{scope:"row"},t.brief),c.default.createElement("th",{scope:"row"},c.default.createElement(s.Button,{color:"info",onClick:function(){var t=o({roleId:r,userGroupId:e});n(t)}},"编辑")))})}},{key:"render",value:function(){var e=this.props,t=e.loading,r=e.error,n=e.buildCreateRoleURI,o=this.state.userGroupId,u=(0,h.buildLoadingAndError)({loading:t,error:r});if(!f.default.isNil(u))return u;var a=n({userGroupId:o});return c.default.createElement("div",null,c.default.createElement(d.Link,{to:a},c.default.createElement(s.Button,{color:"primary"},"创建角色")),"角色列表",c.default.createElement(s.Table,{responsive:!0},c.default.createElement("thead",null,c.default.createElement("tr",null,c.default.createElement("th",null,"名称"),c.default.createElement("th",null,"户群名"),c.default.createElement("th",null,"授权数量"),c.default.createElement("th",null,"状态"),c.default.createElement("th",null,"描述"),c.default.createElement("th",null,"操作"))),c.default.createElement("tbody",null,this.renderRoleList())))}}]),t}(),o.propTypes={match:p.default.shape({params:p.default.object}),roles:i.PropTypes.observableArrayOf(b.roleShape),getRoles:p.default.func,buildEditRoleURI:p.default.func,push:p.default.func,loading:p.default.bool,error:p.default.string},n=u))||n)||n;t.default=v},208:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),o=r(1),u=p(o),a=r(24),i=r(12),l=p(r(207)),c=p(r(66)),s=p(r(206)),f=p(r(205));function p(e){return e&&e.__esModule?e:{default:e}}var d=(0,l.default)({loader:function(){return r.e(0).then(r.t.bind(null,509,7))},loading:function(){return u.default.createElement("div",null,"Loading...")}}),b=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.Component),n(t,[{key:"render",value:function(){return u.default.createElement("div",null,u.default.createElement(a.Switch,null,u.default.createElement(a.Route,{path:i.EDIT_ROLE,component:f.default}),u.default.createElement(a.Route,{path:i.CREATE_ROLE,component:d}),u.default.createElement(a.Route,{exact:!0,path:i.ROLE_LIST,component:s.default}),u.default.createElement(a.Route,{component:c.default})))}}]),t}();t.default=b},209:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,o,u,a=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),i=r(19),l=r(1),c=h(l),s=r(18),f=h(r(11)),p=h(r(0)),d=r(12),b=r(39);function h(e){return e&&e.__esModule?e:{default:e}}var m=(0,i.inject)(function(e){return{push:e.routingStore.push}})(n=(0,i.observer)((u=o=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return r.state={userGroupId:null},r.onRoleListButtonClick=r.onRoleListButtonClick.bind(r),r.onUserRoleListButtonClick=r.onUserRoleListButtonClick.bind(r),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,l.Component),a(t,[{key:"componentDidMount",value:function(){var e=this.props.match.params.userGroupId;this.setState({userGroupId:e})}},{key:"onRoleListButtonClick",value:function(){var e=this.state.userGroupId;(0,this.props.push)((0,b.buildParamURI)({originalURI:d.ROLE_LIST,paramName:d.USER_GROUP_ID,substitutedValue:e}))}},{key:"onUserRoleListButtonClick",value:function(){var e=this.state.userGroupId;(0,this.props.push)((0,b.buildParamURI)({originalURI:d.USER_ROLE_LIST,paramName:d.USER_GROUP_ID,substitutedValue:e}))}},{key:"render",value:function(){var e=this.state.userGroupId;return f.default.isNil(e)?c.default.createElement("div",null,c.default.createElement("h1",null,"userGroupId undefined")):c.default.createElement("div",null,c.default.createElement(s.Jumbotron,null,c.default.createElement("h3",{className:"display-4"},"户群信息管理"),c.default.createElement("h3",null,"userGroupId: ",e)),c.default.createElement("h3",null,c.default.createElement(s.Button,{onClick:this.onRoleListButtonClick},"角色列表"),c.default.createElement("br",null),c.default.createElement(s.Button,{onClick:this.onUserRoleListButtonClick},"授权列表")))}}]),t}(),o.propTypes={match:p.default.shape({params:p.default.object}),push:p.default.func},n=u))||n)||n;t.default=m},210:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,o,u,a=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),i=r(1),l=d(i),c=r(18),s=r(19),f=d(r(0)),p=d(r(141));function d(e){return e&&e.__esModule?e:{default:e}}var b=(0,s.inject)(function(e){var t=e.groupStore;return{editUserGroup:t.editUserGroup,getUserGroup:t.getUserGroup,loading:t.loading}})(n=(0,s.observer)((u=o=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.Component),a(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.match;(0,e.getUserGroup)({userGroupId:t.params.userGroupId})}},{key:"render",value:function(){var e=this.props,t=e.editUserGroup;return e.loading?l.default.createElement("h3",null,"Loading..."):l.default.createElement("div",null,l.default.createElement(c.Jumbotron,null,l.default.createElement("h3",{className:"display-4"},"编辑户群"),l.default.createElement(p.default,{submit:t})))}}]),t}(),o.propTypes={editUserGroup:f.default.func,getUserGroup:f.default.func,match:f.default.object,loading:f.default.bool},n=u))||n)||n;t.default=b},211:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,o,u,a=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),i=r(1),l=d(i),c=r(18),s=r(143),f=d(r(0)),p=d(r(141));function d(e){return e&&e.__esModule?e:{default:e}}var b=(0,s.inject)(function(e){var t=e.authenticationStore,r=e.groupStore;return{userId:t.userId,createUserGroup:r.createUserGroup}})(n=(0,s.observer)((u=o=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.Component),a(t,[{key:"render",value:function(){var e=this.props.createUserGroup;return l.default.createElement("div",null,l.default.createElement(c.Jumbotron,null,l.default.createElement("h3",{className:"display-4"},"创建户群"),l.default.createElement(p.default,{submit:e,creating:!0})))}}]),t}(),o.propTypes={userId:f.default.string,createUserGroup:f.default.func},n=u))||n)||n;t.default=b},212:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,o,u,a=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),i=r(19),l=r(1),c=m(l),s=r(18),f=m(r(11)),p=m(r(0)),d=r(24),b=r(12),h=r(39);function m(e){return e&&e.__esModule?e:{default:e}}var v=(0,i.inject)(function(e){var t=e.groupStore;return{groups:t.groups,getGroups:t.getGroups,redirectToSettings:t.redirectToSettings,deleteUserGroup:t.deleteUserGroup}})(n=(0,i.observer)((u=o=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,l.Component),a(t,[{key:"componentDidMount",value:function(){(0,this.props.getGroups)()}},{key:"renderGroups",value:function(){var e=this.props,r=e.groups,n=e.redirectToSettings,o=e.deleteUserGroup;return f.default.map(r,function(e){var r=e.id,u=(0,h.buildParamURI)({originalURI:b.GROUP_DETAIL,paramName:b.USER_GROUP_ID,substitutedValue:r});return c.default.createElement("tr",{key:e.id},c.default.createElement("th",{scope:"row"},"1"),c.default.createElement("th",{scope:"row"},c.default.createElement(d.Link,{to:u},e.name)),c.default.createElement("th",{scope:"row"},t.renderType(e.enabled)),c.default.createElement("th",{scope:"row"},e.brief),c.default.createElement("th",{scope:"row"},e.cstamp),c.default.createElement("th",{scope:"row"},c.default.createElement(s.Button,{color:"info",onClick:function(){n({userGroupId:r})}},"编辑"),c.default.createElement(s.Button,{color:"danger",onClick:function(){o({userGroupId:r})}},"删除")))})}},{key:"render",value:function(){return c.default.createElement("div",null,c.default.createElement(s.Jumbotron,null,c.default.createElement("h3",{className:"display-4"},"我的户群")),c.default.createElement("div",null,c.default.createElement("input",{placeholder:"search group"}),c.default.createElement(d.Link,{to:b.CREATE_GROUP},c.default.createElement(s.Button,{color:"primary"},"create Group"))),c.default.createElement(s.Table,{responsive:!0},c.default.createElement("thead",null,c.default.createElement("tr",null,c.default.createElement("th",null,"#"),c.default.createElement("th",null,"名称"),c.default.createElement("th",null,"状态"),c.default.createElement("th",null,"描述"),c.default.createElement("th",null,"创建修改时间"),c.default.createElement("th",null,"操作"))),c.default.createElement("tbody",null,this.renderGroups())))}}],[{key:"renderType",value:function(e){return"1"===e?"已激活":"未激活"}}]),t}(),o.propTypes={groups:i.PropTypes.observableArray,getGroups:p.default.func,redirectToSettings:p.default.func,deleteUserGroup:p.default.func},n=u))||n)||n;t.default=v},213:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),o=r(1),u=h(o),a=r(24),i=r(12),l=h(r(66)),c=h(r(212)),s=h(r(211)),f=h(r(210)),p=h(r(209)),d=h(r(208)),b=h(r(204));function h(e){return e&&e.__esModule?e:{default:e}}var m=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.Component),n(t,[{key:"render",value:function(){return u.default.createElement("div",null,u.default.createElement(a.Switch,null,u.default.createElement(a.Route,{exact:!0,path:i.CREATE_GROUP,component:s.default}),u.default.createElement(a.Route,{exact:!0,path:i.EDIT_GROUP,component:f.default}),u.default.createElement(a.Route,{exact:!0,path:i.GROUP_DETAIL,component:p.default}),u.default.createElement(a.Route,{path:i.USER_ROLE_LIST,component:b.default}),u.default.createElement(a.Route,{path:i.ROLE_LIST,component:d.default}),u.default.createElement(a.Route,{path:i.MY_GROUPS,component:c.default}),u.default.createElement(a.Route,{component:l.default})))}}]),t}();t.default=m},214:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),o=r(1),u=function(e){return e&&e.__esModule?e:{default:e}}(o),a=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.Component),n(t,[{key:"render",value:function(){return u.default.createElement("div",null,u.default.createElement("h3",null,"privatePage: #TODO: 5 recent groups and 5 recent apps "))}}]),t}();t.default=a},215:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,o,u,a=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),i=r(19),l=r(1),c=f(l),s=r(18);function f(e){return e&&e.__esModule?e:{default:e}}f(r(0)),f(r(11));var p=(0,i.inject)(function(e){})(n=(0,i.observer)((u=o=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,l.Component),a(t,[{key:"render",value:function(){return c.default.createElement("div",null,c.default.createElement(s.Jumbotron,null,c.default.createElement("h3",{className:"display-4"},"我的应用")))}}]),t}(),o.propTypes={},n=u))||n)||n;t.default=p},216:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,o,u,a=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),i=r(19),l=r(1),c=d(l),s=r(18),f=d(r(0)),p=d(r(11));function d(e){return e&&e.__esModule?e:{default:e}}var b=(0,i.inject)(function(e){var t=e.authenticationStore;return{profile:t.profile,getProfile:t.getProfile}})(n=(0,i.observer)((u=o=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return r.props.getProfile(),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,l.Component),a(t,[{key:"componentWillMount",value:function(){}},{key:"renderProfile",value:function(){var e=this.props.profile;if(p.default.isNil(e))return c.default.createElement("div",null,"未找到账户信息");var t=e.id,r=e.name;return c.default.createElement("div",null,"账号ID： ",t,c.default.createElement("br",null),"name: ",r)}},{key:"render",value:function(){return c.default.createElement("div",null,c.default.createElement(s.Jumbotron,null,c.default.createElement("h3",{className:"display-4"},"用户信息页面")),c.default.createElement("div",null,this.renderProfile()))}}]),t}(),o.propTypes={getProfile:f.default.func,profile:f.default.shape({name:f.default.string,avatar:f.default.string,brief:f.default.string,tel:f.default.string,saying:f.default.string})},n=u))||n)||n;t.default=b},217:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,o,u,a=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),i=r(1),l=E(i),c=r(19),s=r(24),f=E(r(0)),p=E(r(11)),d=r(12),b=E(r(66)),h=E(r(216)),m=E(r(215)),v=E(r(214)),y=E(r(213)),g=E(r(200));function E(e){return e&&e.__esModule?e:{default:e}}var _=(0,c.inject)(function(e){return{token:e.authenticationStore.token}})(n=(0,c.observer)((u=o=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.Component),a(t,[{key:"render",value:function(){var e=this.props.token;return p.default.isNil(e)?l.default.createElement(s.Redirect,{to:d.LOGIN}):l.default.createElement("div",null,l.default.createElement(g.default,null),l.default.createElement(s.Switch,null,l.default.createElement(s.Route,{exact:!0,path:d.PROFILE,component:h.default}),l.default.createElement(s.Route,{exact:!0,path:d.MY_APPS,component:m.default}),l.default.createElement(s.Route,{path:d.MY_GROUPS,component:y.default}),l.default.createElement(s.Route,{path:"*",component:v.default}),l.default.createElement(s.Route,{component:b.default})))}}]),t}(),o.propTypes={token:f.default.string},n=u))||n)||n;t.default=_},218:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,o,u,a=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),i=r(1),l=m(i),c=r(18),s=r(24),f=r(19),p=m(r(0)),d=m(r(11)),b=r(12),h=m(r(142));function m(e){return e&&e.__esModule?e:{default:e}}var v=(0,f.inject)(function(e){var t=e.userStore;return{resetPasswordByPhone:t.resetPasswordByPhone,error:t.error}})(n=(0,f.observer)((u=o=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.Component),a(t,[{key:"renderError",value:function(){if(!d.default.isNil(this.props.error))return l.default.createElement("div",null,l.default.createElement(c.Alert,{color:"danger"},this.props.error))}},{key:"render",value:function(){var e=this.props.resetPasswordByPhone;return l.default.createElement("div",null,l.default.createElement(c.Jumbotron,null,l.default.createElement("h2",{className:"display-4"},"重置密码")),l.default.createElement(c.Container,null,l.default.createElement(c.Row,null,l.default.createElement(c.Col,null,l.default.createElement("div",null,this.renderError(),l.default.createElement(h.default,{submit:e})))),l.default.createElement("div",null,"已有地球号账户?",l.default.createElement(s.Link,{to:b.LOGIN},"立即登录"))))}}]),t}(),o.propTypes={error:p.default.string,resetPasswordByPhone:p.default.func},n=u))||n)||n;t.default=v},219:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,o,u,a=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),i=r(1),l=p(i),c=r(19),s=r(18),f=p(r(0));function p(e){return e&&e.__esModule?e:{default:e}}var d=(0,c.inject)(function(e){return{getVfcodeByPhone:e.vfcodeStore.getVfcodeByPhone}})(n=(0,c.observer)((u=o=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return r.state={disabled:!1,timer:60,btnText:"获取验证码"},r.tick=r.tick.bind(r),r.onSubmit=r.onSubmit.bind(r),r.reset=r.reset.bind(r),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.Component),a(t,[{key:"onSubmit",value:function(e){e.preventDefault();var t=this.props,r=t.username;(0,t.getVfcodeByPhone)({username:r}),this.setState({disabled:!0,btnText:this.state.timer.toString()})}},{key:"reset",value:function(){this.setState({disabled:!1,btnText:"获取验证码",timer:60})}},{key:"tick",value:function(){var e=this.state,t=e.disabled,r=e.timer;!0===t&&(1===r?this.reset():(r-=1,this.setState({timer:r,btnText:r.toString()})))}},{key:"componentDidMount",value:function(){this.interval=setInterval(this.tick,1e3)}},{key:"componentWillUnmount",value:function(){clearInterval(this.interval)}},{key:"render",value:function(){var e=this.state,t=e.disabled,r=e.btnText;return l.default.createElement(s.Button,{color:"primary",onClick:this.onSubmit,disabled:t},r)}}]),t}(),o.propTypes={username:f.default.string.isRequired,getVfcodeByPhone:f.default.func},n=u))||n)||n;t.default=d},220:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,o,u,a=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),i=r(1),l=m(i),c=r(18),s=r(24),f=r(19),p=m(r(0)),d=m(r(11)),b=r(12),h=m(r(142));function m(e){return e&&e.__esModule?e:{default:e}}var v=(0,f.inject)(function(e){var t=e.userStore;return{signUpByPhone:t.signUpByPhone,error:t.error}})(n=(0,f.observer)((u=o=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.Component),a(t,[{key:"renderError",value:function(){if(!d.default.isNil(this.props.error))return l.default.createElement("div",null,l.default.createElement(c.Alert,{color:"danger"},this.props.error))}},{key:"render",value:function(){var e=this.props.signUpByPhone;return l.default.createElement("div",null,l.default.createElement(c.Jumbotron,null,l.default.createElement("h2",{className:"display-4"},"用户注册")),l.default.createElement(c.Container,null,l.default.createElement(c.Row,null,l.default.createElement(c.Col,null,l.default.createElement("div",null,this.renderError(),l.default.createElement(h.default,{submit:e})))),l.default.createElement("div",null,"已有地球号账户?",l.default.createElement(s.Link,{to:b.LOGIN},"立即登录"))))}}]),t}(),o.propTypes={error:p.default.string,signUpByPhone:p.default.func},n=u))||n)||n;t.default=v},221:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,o,u,a=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),i=r(19),l=r(1),c=h(l),s=r(18),f=h(r(0)),p=h(r(11)),d=r(24),b=r(12);function h(e){return e&&e.__esModule?e:{default:e}}var m=(0,i.inject)(function(e){var t=e.authenticationStore;return{login:t.login,error:t.error}})(n=(0,i.observer)((u=o=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return r.state={username:"",password:""},r.handleUsernameChange=r.handleUsernameChange.bind(r),r.handlePasswordChange=r.handlePasswordChange.bind(r),r.onSubmit=r.onSubmit.bind(r),r.renderError=r.renderError.bind(r),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,l.Component),a(t,[{key:"handleUsernameChange",value:function(e){this.setState({username:e.target.value})}},{key:"handlePasswordChange",value:function(e){this.setState({password:e.target.value})}},{key:"onSubmit",value:function(e){e.preventDefault();var t=this.state,r=t.username,n=t.password;this.props.login({username:r,password:n})}},{key:"renderError",value:function(){if(!p.default.isNil(this.props.error))return c.default.createElement("div",null,c.default.createElement(s.Alert,{color:"danger"},this.props.error))}},{key:"render",value:function(){return c.default.createElement("div",null,c.default.createElement(d.Link,{to:b.SIGN_UP},"立即注册"),c.default.createElement(s.Jumbotron,null,c.default.createElement("h2",{className:"display-4"},"登陆页面"),this.renderError(),c.default.createElement("br",null),c.default.createElement(s.Form,null,c.default.createElement(s.FormGroup,null,c.default.createElement(s.Label,{for:"username"},c.default.createElement("h4",null,"用户名")),c.default.createElement(s.Input,{type:"text",id:"username",onChange:this.handleUsernameChange})),c.default.createElement(s.FormGroup,null,c.default.createElement(s.Label,{for:"password"},c.default.createElement("h4",null,"密码")),c.default.createElement(s.Input,{type:"password",id:"password",onChange:this.handlePasswordChange})),c.default.createElement(d.Link,{to:b.RESET_PASSWORD},"忘记密码"),c.default.createElement(s.Button,{block:!0,color:"primary",type:"submit",onClick:this.onSubmit},"登陆"))))}}]),t}(),o.propTypes={login:f.default.func,error:f.default.string},n=u))||n)||n;t.default=m},222:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,o,u,a=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),i=r(1),l=y(i),c=r(24),s=y(r(0)),f=y(r(11)),p=r(143),d=r(12),b=y(r(66)),h=y(r(221)),m=y(r(220)),v=y(r(218));function y(e){return e&&e.__esModule?e:{default:e}}var g=(0,p.inject)(function(e){return{token:e.authenticationStore.token}})(n=(0,p.observer)((u=o=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.Component),a(t,[{key:"render",value:function(){var e=this.props.token;return f.default.isNil(e)?l.default.createElement(c.Switch,null,l.default.createElement(c.Route,{path:d.LOGIN,component:h.default}),l.default.createElement(c.Route,{path:d.SIGN_UP,component:m.default}),l.default.createElement(c.Route,{path:d.RESET_PASSWORD,component:v.default}),l.default.createElement(c.Route,{component:b.default})):l.default.createElement(c.Redirect,{to:d.PRIVATE})}}]),t}(),o.propTypes={token:s.default.string},n=u))||n)||n;t.default=g},223:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),o=r(1),u=function(e){return e&&e.__esModule?e:{default:e}}(o),a=r(18),i=r(24),l=r(12),c=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.Component),n(t,[{key:"render",value:function(){return u.default.createElement("div",null,"主页面",u.default.createElement("br",null),u.default.createElement(i.Link,{to:l.LOGIN},u.default.createElement(a.Button,null,"登陆")))}}]),t}();t.default=c},224:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),o=r(1),u=p(o),a=r(24),i=r(12),l=p(r(66)),c=p(r(223)),s=p(r(222)),f=p(r(217));function p(e){return e&&e.__esModule?e:{default:e}}var d=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.Component),n(t,[{key:"render",value:function(){return u.default.createElement(a.Switch,null,u.default.createElement(a.Route,{exact:!0,path:"/",component:c.default}),u.default.createElement(a.Route,{path:i.PUBLIC,component:s.default}),u.default.createElement(a.Route,{path:i.PRIVATE,component:f.default}),u.default.createElement(a.Route,{component:l.default}))}}]),t}();t.default=d},225:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),o=r(1),u=i(o),a=i(r(224));function i(e){return e&&e.__esModule?e:{default:e}}var l=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.Component),n(t,[{key:"render",value:function(){return u.default.createElement("div",{className:"container"},u.default.createElement(a.default,null))}}]),t}();t.default=l},226:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.queryUserRole=t.getUserRole=t.editUserRole=t.deleteUserRole=t.createUserRole=void 0,t.createUserRole=function(){var e=o(regeneratorRuntime.mark(function e(t){var r,o,u,a,i=t.token,l=t.duaId,c=t.ugrp,s=t.role,f=t.toWho;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r="/usro",o=(0,n.buildGeneralHeaders)("POST",r,l),u=Object.assign({},{token:i,ugrp:c,role:s,towho:f}),console.log(u),e.next=6,n.axios.post(r,u,{headers:o});case 6:return a=e.sent,e.abrupt("return",(0,n.generalResponseBuilder)(a));case 8:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),t.deleteUserRole=function(){var e=o(regeneratorRuntime.mark(function e(t){var r,o,u,a,i=t.token,l=t.userGroupId;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r="/ugrp/"+l,o=(0,n.buildGeneralHeaders)("DELETE",r),u=Object.assign({},{token:i}),e.next=5,n.axios.delete(r,{params:u,headers:o});case 5:return a=e.sent,e.abrupt("return",(0,n.generalResponseBuilder)(a));case 7:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),t.editUserRole=function(){var e=o(regeneratorRuntime.mark(function e(t){var r,o,u,a,i=t.token,l=t.duaId,c=t.usro_id,s=t.expire,f=t.note,p=t.enabled;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r="/usro/"+c,o=(0,n.buildGeneralHeaders)("PUT",r,l),u=Object.assign({},{token:i,expire:s,note:f,enabled:p}),e.next=5,n.axios.put(r,u,{headers:o});case 5:return a=e.sent,e.abrupt("return",(0,n.generalResponseBuilder)(a));case 7:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),t.getUserRole=function(){var e=o(regeneratorRuntime.mark(function e(t){var r,o,u,a,i=t.token,l=t.duaId,c=t.usro_id;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r="/usro/"+c,o=(0,n.buildGeneralHeaders)("GET",r,l),u={token:i},e.next=5,n.axios.get(r,{headers:o,params:u});case 5:return a=e.sent,e.abrupt("return",(0,n.generalResponseBuilder)(a));case 7:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),t.queryUserRole=function(){var e=o(regeneratorRuntime.mark(function e(t){var r,o,u,a,i,l=t.token,c=t.duaId,s=t.uid,f=t.ugrp,p=t.role,d=t.byuid,b=t.brief,h=t.offset,m=t.limit,v=t.order,y=t.granter;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r="/usro",o=(0,n.buildGeneralHeaders)("GET",r,c),u=Object.assign({},o,{token:l}),a=Object.assign({},{uid:s,ugrp:f,offset:h,role:p,byuid:d,brief:b,limit:m,order:v,granter:y}),console.log(a),e.next=7,n.axios.get(r,{headers:u,params:a});case 7:return i=e.sent,e.abrupt("return",(0,n.generalResponseBuilder)(i));case 9:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}();var n=r(54);function o(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,r){return function n(o,u){try{var a=t[o](u),i=a.value}catch(e){return void r(e)}if(!a.done)return Promise.resolve(i).then(function(e){n("next",e)},function(e){n("throw",e)});e(i)}("next")})}}},227:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,o,u,a,i,l=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),c=r(9),s=r(12),f=r(39),p=function(e){return e&&e.__esModule?e:{default:e}}(r(69)),d=r(79),b=r(226);function h(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,r){return function n(o,u){try{var a=t[o](u),i=a.value}catch(e){return void r(e)}if(!a.done)return Promise.resolve(i).then(function(e){n("next",e)},function(e){n("throw",e)});e(i)}("next")})}}function m(e,t,r,n){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(n):void 0})}function v(e,t,r,n,o){var u={};return Object.keys(n).forEach(function(e){u[e]=n[e]}),u.enumerable=!!u.enumerable,u.configurable=!!u.configurable,("value"in u||u.initializer)&&(u.writable=!0),u=r.slice().reverse().reduce(function(r,n){return n(e,t,r)||r},u),o&&void 0!==u.initializer&&(u.value=u.initializer?u.initializer.call(o):void 0,u.initializer=void 0),void 0===u.initializer&&(Object.defineProperty(e,t,u),u=null),u}var y={uid:"",role:"",byuid:"",note:"",expire:"",enabled:""},g=new(n=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),m(this,"userRoles",o,this),m(this,"userRole",u,this),m(this,"loading",a,this),m(this,"error",i,this)}return l(e,[{key:"buildCreateUserRoleURI",value:function(e){var t=e.userGroupId;return(0,f.buildParamURI)({originalURI:s.CREATE_USER_ROLE,paramName:s.USER_GROUP_ID,substitutedValue:t})}},{key:"createUserRole",value:function(){var e=h(regeneratorRuntime.mark(function e(t){var r,n,o,u,a,i,l,c;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,g.loading=!0,g.error=null,r=p.default.token,n=p.default.duaId,e.next=6,(0,d.getUserGroup)({token:r,duaId:n,userGroupId:t});case 6:return o=e.sent,u=o.data,a=u.code,i=g.role,l=i.role,c=i.uid,i.byuid,e.next=12,(0,b.createUserRole)({token:r,duaId:n,ugrp:a,role:l,toWho:c});case 12:e.next=17;break;case 14:e.prev=14,e.t0=e.catch(0),g.error=e.t0.message;case 17:g.loading=!1;case 18:case"end":return e.stop()}},e,this,[[0,14]])}));return function(t){return e.apply(this,arguments)}}()},{key:"getUserRoles",value:function(){var e=h(regeneratorRuntime.mark(function e(t){var r,n,o,u;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,g.loading=!0,g.error=null,r=p.default.token,n=p.default.duaId,e.next=6,(0,d.getUserGroup)({token:r,duaId:n,userGroupId:t});case 6:return o=e.sent,u=o.data,e.next=10,(0,b.queryUserRole)({token:r,duaId:n,ugrp:u.code});case 10:o=e.sent,console.log(o.data),g.userRoles=o.data,e.next=18;break;case 15:e.prev=15,e.t0=e.catch(0),g.error=e.t0.message;case 18:g.loading=!1;case 19:case"end":return e.stop()}},e,this,[[0,15]])}));return function(t){return e.apply(this,arguments)}}()}]),e}(),o=v(n.prototype,"userRoles",[c.observable],{enumerable:!0,initializer:function(){return[]}}),u=v(n.prototype,"userRole",[c.observable],{enumerable:!0,initializer:function(){return y}}),a=v(n.prototype,"loading",[c.observable],{enumerable:!0,initializer:function(){return!1}}),i=v(n.prototype,"error",[c.observable],{enumerable:!0,initializer:function(){return null}}),v(n.prototype,"buildCreateUserRoleURI",[c.action],Object.getOwnPropertyDescriptor(n.prototype,"buildCreateUserRoleURI"),n.prototype),v(n.prototype,"createUserRole",[c.action],Object.getOwnPropertyDescriptor(n.prototype,"createUserRole"),n.prototype),v(n.prototype,"getUserRoles",[c.action],Object.getOwnPropertyDescriptor(n.prototype,"getUserRoles"),n.prototype),n);t.default=g},228:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,o,u,a=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),i=r(9),l=(f(r(11)),r(104)),c=r(146),s=f(r(69));function f(e){return e&&e.__esModule?e:{default:e}}function p(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,r){return function n(o,u){try{var a=t[o](u),i=a.value}catch(e){return void r(e)}if(!a.done)return Promise.resolve(i).then(function(e){n("next",e)},function(e){n("throw",e)});e(i)}("next")})}}function d(e,t,r,n){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(n):void 0})}function b(e,t,r,n,o){var u={};return Object.keys(n).forEach(function(e){u[e]=n[e]}),u.enumerable=!!u.enumerable,u.configurable=!!u.configurable,("value"in u||u.initializer)&&(u.writable=!0),u=r.slice().reverse().reduce(function(r,n){return n(e,t,r)||r},u),o&&void 0!==u.initializer&&(u.value=u.initializer?u.initializer.call(o):void 0,u.initializer=void 0),void 0===u.initializer&&(Object.defineProperty(e,t,u),u=null),u}var h=new(n=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),d(this,"error",o,this),d(this,"user",u,this)}return a(e,[{key:"resetError",value:function(){h.error=null}},{key:"signUpByPhone",value:function(e){var t=e.username,r=e.password,n=e.vfcode;(0,l.getDuaIdFromServer)().then(function(){var e=p(regeneratorRuntime.mark(function e(o){var u;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,u=o.id,e.next=4,(0,c.signUp)({username:t,password:r,duaId:u,vfcode:n,byPhone:!0});case 4:s.default.login({username:t,password:r}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),h.error=e.t0.message;case 10:case"end":return e.stop()}},e,this,[[0,7]])}));return function(t){return e.apply(this,arguments)}}())}},{key:"resetPasswordByPhone",value:function(e){var t=e.username,r=e.password,n=e.vfcode;(0,l.getDuaIdFromServer)().then(function(){var e=p(regeneratorRuntime.mark(function e(o){var u;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:try{u=o.id,(0,c.resetPassword)({username:t,password:r,duaId:u,vfcode:n,byPhone:!0}),s.default.login({username:t,password:r})}catch(e){h.error=e.message}case 1:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}())}},{key:"getUserDetail",value:function(){var e=p(regeneratorRuntime.mark(function e(t){var r,n,o,u=t.user_id;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=s.default.token,n=s.default.duaId,e.prev=1,e.next=4,(0,c.getUser)({token:r,duaId:n,user_id:u});case 4:o=e.sent,h.user=o.data,e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),h.error=e.t0.message;case 11:case"end":return e.stop()}},e,this,[[1,8]])}));return function(t){return e.apply(this,arguments)}}()}]),e}(),o=b(n.prototype,"error",[i.observable],{enumerable:!0,initializer:function(){return null}}),u=b(n.prototype,"user",[i.observable],{enumerable:!0,initializer:function(){return null}}),b(n.prototype,"resetError",[i.action],Object.getOwnPropertyDescriptor(n.prototype,"resetError"),n.prototype),b(n.prototype,"signUpByPhone",[i.action],Object.getOwnPropertyDescriptor(n.prototype,"signUpByPhone"),n.prototype),b(n.prototype,"resetPasswordByPhone",[i.action],Object.getOwnPropertyDescriptor(n.prototype,"resetPasswordByPhone"),n.prototype),b(n.prototype,"getUserDetail",[i.action],Object.getOwnPropertyDescriptor(n.prototype,"getUserDetail"),n.prototype),n);t.default=h},229:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getVfcodeByMailWhenResetPassword=t.getVfcodeByMailWhenSignUp=t.getVfcodeByPhone=void 0,t.getVfcodeByPhone=function(){var e=o(regeneratorRuntime.mark(function e(t){var r,o,a,i,l,c=t.duaId,s=t.username;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r="/vfc",o=(0,n.buildGeneralHeaders)("POST",r,c),a=(0,n.formatPhoneNumber)(s),i=Object.assign({},{vfaddr:a,tmpl:u}),e.next=6,n.axios.post(r,i,{headers:o});case 6:return l=e.sent,e.abrupt("return",(0,n.generalResponseBuilder)(l));case 8:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),t.getVfcodeByMailWhenSignUp=function(){var e=o(regeneratorRuntime.mark(function e(t){var r,o,u,i,l=t.duaId,c=t.username;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r="/vfc",o=(0,n.buildGeneralHeaders)("POST",r,l),u=Object.assign({},{vfaddr:c,tmpl:a}),e.next=5,n.axios.post(r,u,{headers:o});case 5:return i=e.sent,e.abrupt("return",(0,n.generalResponseBuilder)(i));case 7:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),t.getVfcodeByMailWhenResetPassword=function(){var e=o(regeneratorRuntime.mark(function e(t){var r,o,u,a,l=t.duaId,c=t.username;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r="/vfc",o=(0,n.buildGeneralHeaders)("POST",r,l),u=Object.assign({},{vfaddr:c,tmpl:i}),e.next=5,n.axios.post(r,u,{headers:o});case 5:return a=e.sent,e.abrupt("return",(0,n.generalResponseBuilder)(a));case 7:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}();var n=r(54);function o(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,r){return function n(o,u){try{var a=t[o](u),i=a.value}catch(e){return void r(e)}if(!a.done)return Promise.resolve(i).then(function(e){n("next",e)},function(e){n("throw",e)});e(i)}("next")})}}var u="SMS_25335288",a="DMS_VFC4USEREG",i="DMS_VFC4RSTPWD"},230:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,o,u=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),a=r(9),i=r(229),l=r(104);function c(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,r){return function n(o,u){try{var a=t[o](u),i=a.value}catch(e){return void r(e)}if(!a.done)return Promise.resolve(i).then(function(e){n("next",e)},function(e){n("throw",e)});e(i)}("next")})}}function s(e,t,r,n,o){var u={};return Object.keys(n).forEach(function(e){u[e]=n[e]}),u.enumerable=!!u.enumerable,u.configurable=!!u.configurable,("value"in u||u.initializer)&&(u.writable=!0),u=r.slice().reverse().reduce(function(r,n){return n(e,t,r)||r},u),o&&void 0!==u.initializer&&(u.value=u.initializer?u.initializer.call(o):void 0,u.initializer=void 0),void 0===u.initializer&&(Object.defineProperty(e,t,u),u=null),u}var f=new(n=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),function(e,t,r,n){r&&Object.defineProperty(e,"error",{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(n):void 0})}(this,0,o,this)}return u(e,[{key:"resetError",value:function(){f.error=null}},{key:"getVfcodeByPhone",value:function(){var e=c(regeneratorRuntime.mark(function e(t){var r=t.username;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:(0,l.getDuaIdFromServer)().then(function(){var e=c(regeneratorRuntime.mark(function e(t){var n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=t.id,e.next=4,(0,i.getVfcodeByPhone)({username:r,duaId:n});case 4:e.next=10;break;case 6:e.prev=6,e.t0=e.catch(0),console.log(e.t0),f.error=e.t0.message;case 10:case"end":return e.stop()}},e,this,[[0,6]])}));return function(t){return e.apply(this,arguments)}}());case 1:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()}]),e}(),o=s(n.prototype,"error",[a.observable],{enumerable:!0,initializer:function(){return null}}),s(n.prototype,"resetError",[a.action],Object.getOwnPropertyDescriptor(n.prototype,"resetError"),n.prototype),s(n.prototype,"getVfcodeByPhone",[a.action],Object.getOwnPropertyDescriptor(n.prototype,"getVfcodeByPhone"),n.prototype),n);t.default=f},231:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,o,u,a,i=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),l=r(9),c=(b(r(11)),r(144)),s=r(12),f=r(39),p=b(r(69)),d=r(79);function b(e){return e&&e.__esModule?e:{default:e}}function h(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,r){return function n(o,u){try{var a=t[o](u),i=a.value}catch(e){return void r(e)}if(!a.done)return Promise.resolve(i).then(function(e){n("next",e)},function(e){n("throw",e)});e(i)}("next")})}}function m(e,t,r,n){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(n):void 0})}function v(e,t,r,n,o){var u={};return Object.keys(n).forEach(function(e){u[e]=n[e]}),u.enumerable=!!u.enumerable,u.configurable=!!u.configurable,("value"in u||u.initializer)&&(u.writable=!0),u=r.slice().reverse().reduce(function(r,n){return n(e,t,r)||r},u),o&&void 0!==u.initializer&&(u.value=u.initializer?u.initializer.call(o):void 0,u.initializer=void 0),void 0===u.initializer&&(Object.defineProperty(e,t,u),u=null),u}var y={role:"",granter:"",name:"",code:"",avatar:"",brief:""},g=new(n=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),m(this,"role",o,this),m(this,"loading",u,this),m(this,"error",a,this)}return i(e,[{key:"buildRoleListURI",value:function(e){var t=e.userGroupId;return(0,f.buildParamURI)({originalURI:s.ROLE_LIST,paramName:s.USER_GROUP_ID,substitutedValue:t})}},{key:"initializeRole",value:function(){g.role=y}},{key:"createRole",value:function(){var e=h(regeneratorRuntime.mark(function e(t){var r,n,o,u,a,i,l,s,f,b,h;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,g.loading=!0,g.error=null,r=p.default.token,n=p.default.duaId,e.next=6,(0,d.getUserGroup)({token:r,duaId:n,userGroupId:t});case 6:return o=e.sent,u=o.data,a=u.code,i=g.role,l=i.code,s=i.name,f=i.granter,b=i.avatar,h=i.brief,e.next=12,(0,c.createRole)({token:r,duaId:n,ugrp:a,granter:f,code:l,name:s,avatar:b,brief:h});case 12:e.next=17;break;case 14:e.prev=14,e.t0=e.catch(0),g.error=e.t0.message;case 17:g.loading=!1;case 18:case"end":return e.stop()}},e,this,[[0,14]])}));return function(t){return e.apply(this,arguments)}}()},{key:"editRole",value:function(){var e=h(regeneratorRuntime.mark(function e(){var t,r,n,o,u,a,i,l;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,g.loading=!0,g.error=null,t=g.role,r=t.id,n=t.name,o=t.avatar,u=t.brief,a=t.enabled,i=p.default.token,l=p.default.duaId,e.next=7,(0,c.editRole)({token:i,duaId:l,roleId:r,name:n,avatar:o,brief:u,enabled:a});case 7:e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),g.error=e.t0.message;case 12:g.loading=!1;case 13:case"end":return e.stop()}},e,this,[[0,9]])}));return function(){return e.apply(this,arguments)}}()},{key:"getRole",value:function(){var e=h(regeneratorRuntime.mark(function e(t){var r,n,o,u=t.roleId;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,g.loading=!0,g.error=null,r=p.default.token,n=p.default.duaId,e.next=6,(0,c.getRole)({token:r,duaId:n,roleId:u});case 6:o=e.sent,g.role=o.data,e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),g.error=e.t0.message;case 13:g.loading=!1;case 14:case"end":return e.stop()}},e,this,[[0,10]])}));return function(t){return e.apply(this,arguments)}}()}]),e}(),o=v(n.prototype,"role",[l.observable],{enumerable:!0,initializer:function(){return y}}),u=v(n.prototype,"loading",[l.observable],{enumerable:!0,initializer:function(){return!1}}),a=v(n.prototype,"error",[l.observable],{enumerable:!0,initializer:function(){return null}}),v(n.prototype,"buildRoleListURI",[l.action],Object.getOwnPropertyDescriptor(n.prototype,"buildRoleListURI"),n.prototype),v(n.prototype,"initializeRole",[l.action],Object.getOwnPropertyDescriptor(n.prototype,"initializeRole"),n.prototype),v(n.prototype,"createRole",[l.action],Object.getOwnPropertyDescriptor(n.prototype,"createRole"),n.prototype),v(n.prototype,"editRole",[l.action],Object.getOwnPropertyDescriptor(n.prototype,"editRole"),n.prototype),v(n.prototype,"getRole",[l.action],Object.getOwnPropertyDescriptor(n.prototype,"getRole"),n.prototype),n);t.default=g},232:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,o,u,a,i=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),l=r(9),c=r(144),s=r(12),f=r(39),p=function(e){return e&&e.__esModule?e:{default:e}}(r(69)),d=r(79);function b(e,t,r,n){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(n):void 0})}function h(e,t,r,n,o){var u={};return Object.keys(n).forEach(function(e){u[e]=n[e]}),u.enumerable=!!u.enumerable,u.configurable=!!u.configurable,("value"in u||u.initializer)&&(u.writable=!0),u=r.slice().reverse().reduce(function(r,n){return n(e,t,r)||r},u),o&&void 0!==u.initializer&&(u.value=u.initializer?u.initializer.call(o):void 0,u.initializer=void 0),void 0===u.initializer&&(Object.defineProperty(e,t,u),u=null),u}var m=new(n=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),b(this,"roles",o,this),b(this,"loading",u,this),b(this,"error",a,this)}return i(e,[{key:"buildCreateRoleURI",value:function(e){var t=e.userGroupId;return(0,f.buildParamURI)({originalURI:s.CREATE_ROLE,paramName:s.USER_GROUP_ID,substitutedValue:t})}},{key:"buildEditRoleURI",value:function(e){var t=e.roleId,r=e.userGroupId,n=(0,f.buildParamURI)({originalURI:s.EDIT_ROLE,paramName:s.ROLE_ID,substitutedValue:t});return(0,f.buildParamURI)({originalURI:n,paramName:s.USER_GROUP_ID,substitutedValue:r})}},{key:"getRoles",value:function(){var e=function(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,r){return function n(o,u){try{var a=t[o](u),i=a.value}catch(e){return void r(e)}if(!a.done)return Promise.resolve(i).then(function(e){n("next",e)},function(e){n("throw",e)});e(i)}("next")})}}(regeneratorRuntime.mark(function e(t){var r,n,o,u;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,m.loading=!0,m.error=null,r=p.default.token,n=p.default.duaId,e.next=6,(0,d.getUserGroup)({token:r,duaId:n,userGroupId:t});case 6:return o=e.sent,u=o.data,e.next=10,(0,c.queryRole)({token:r,duaId:n,ugrp:u.code});case 10:o=e.sent,m.roles=o.data,e.next=17;break;case 14:e.prev=14,e.t0=e.catch(0),m.error=e.t0.message;case 17:m.loading=!1;case 18:case"end":return e.stop()}},e,this,[[0,14]])}));return function(t){return e.apply(this,arguments)}}()}]),e}(),o=h(n.prototype,"roles",[l.observable],{enumerable:!0,initializer:function(){return[]}}),u=h(n.prototype,"loading",[l.observable],{enumerable:!0,initializer:function(){return!1}}),a=h(n.prototype,"error",[l.observable],{enumerable:!0,initializer:function(){return null}}),h(n.prototype,"buildCreateRoleURI",[l.action],Object.getOwnPropertyDescriptor(n.prototype,"buildCreateRoleURI"),n.prototype),h(n.prototype,"buildEditRoleURI",[l.action],Object.getOwnPropertyDescriptor(n.prototype,"buildEditRoleURI"),n.prototype),h(n.prototype,"getRoles",[l.action],Object.getOwnPropertyDescriptor(n.prototype,"getRoles"),n.prototype),n);t.default=m},233:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,o,u,a,i,l=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),c=r(9),s=r(79),f=h(r(145)),p=r(12),d=r(39),b=h(r(69));function h(e){return e&&e.__esModule?e:{default:e}}function m(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,r){return function n(o,u){try{var a=t[o](u),i=a.value}catch(e){return void r(e)}if(!a.done)return Promise.resolve(i).then(function(e){n("next",e)},function(e){n("throw",e)});e(i)}("next")})}}function v(e,t,r,n){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(n):void 0})}function y(e,t,r,n,o){var u={};return Object.keys(n).forEach(function(e){u[e]=n[e]}),u.enumerable=!!u.enumerable,u.configurable=!!u.configurable,("value"in u||u.initializer)&&(u.writable=!0),u=r.slice().reverse().reduce(function(r,n){return n(e,t,r)||r},u),o&&void 0!==u.initializer&&(u.value=u.initializer?u.initializer.call(o):void 0,u.initializer=void 0),void 0===u.initializer&&(Object.defineProperty(e,t,u),u=null),u}var g=function(){f.default.history.push(p.MY_GROUPS)},E=new(n=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),v(this,"groups",o,this),v(this,"group",u,this),v(this,"loading",a,this),v(this,"error",i,this)}return l(e,[{key:"getGroups",value:function(){var e=m(regeneratorRuntime.mark(function e(){var t,r,n,o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=b.default.token,r=b.default.duaId,n=b.default.userId,e.next=4,(0,s.queryUserGroup)({token:t,duaId:r,uid:n});case 4:o=e.sent,E.groups=o.data,e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),E.error=e.t0.message;case 11:case"end":return e.stop()}},e,this,[[0,8]])}));return function(){return e.apply(this,arguments)}}()},{key:"createUserGroup",value:function(){var e=m(regeneratorRuntime.mark(function e(t){var r,n,o=t.bywho,u=t.code,a=t.name,i=t.avatar,l=t.brief;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r=b.default.token,n=b.default.duaId,e.next=4,(0,s.createUserGroup)({token:r,duaId:n,bywho:o,code:u,name:a,avatar:i,brief:l});case 4:g(),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),E.error=e.t0.message;case 10:case"end":return e.stop()}},e,this,[[0,7]])}));return function(t){return e.apply(this,arguments)}}()},{key:"deleteUserGroup",value:function(){var e=m(regeneratorRuntime.mark(function e(t){var r,n,o=t.userGroupId;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r=b.default.token,n=b.default.duaId,e.next=4,(0,s.deleteUserGroup)({token:r,duaId:n,userGroupId:o});case 4:E.getGroups(r),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),E.error=e.t0.message;case 10:case"end":return e.stop()}},e,this,[[0,7]])}));return function(t){return e.apply(this,arguments)}}()},{key:"editUserGroup",value:function(){var e=m(regeneratorRuntime.mark(function e(t){var r,n,o=t.userGroupId,u=t.name,a=t.avatar,i=t.brief;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r=b.default.token,n=b.default.duaId,e.next=4,(0,s.editUserGroup)({token:r,duaId:n,userGroupId:o,name:u,avatar:a,brief:i});case 4:g(),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),E.error=e.t0.message;case 10:case"end":return e.stop()}},e,this,[[0,7]])}));return function(t){return e.apply(this,arguments)}}()},{key:"redirectToSettings",value:function(e){var t=e.userGroupId,r=(0,d.buildParamURI)({originalURI:p.EDIT_GROUP,paramName:p.USER_GROUP_ID,substitutedValue:t});f.default.history.push(r)}},{key:"getUserGroup",value:function(){var e=m(regeneratorRuntime.mark(function e(t){var r,n,o,u=t.userGroupId;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return E.loading=!0,e.prev=1,r=b.default.token,n=b.default.duaId,e.next=5,(0,s.getUserGroup)({token:r,duaId:n,userGroupId:u});case 5:o=e.sent,E.group=o.data,e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),E.error=e.t0.message;case 12:E.loading=!1;case 13:case"end":return e.stop()}},e,this,[[1,9]])}));return function(t){return e.apply(this,arguments)}}()}]),e}(),o=y(n.prototype,"groups",[c.observable],{enumerable:!0,initializer:function(){return[]}}),u=y(n.prototype,"group",[c.observable],{enumerable:!0,initializer:function(){return{name:"",code:"",brief:""}}}),a=y(n.prototype,"loading",[c.observable],{enumerable:!0,initializer:function(){return null}}),i=y(n.prototype,"error",[c.observable],{enumerable:!0,initializer:function(){return null}}),y(n.prototype,"getGroups",[c.action],Object.getOwnPropertyDescriptor(n.prototype,"getGroups"),n.prototype),y(n.prototype,"createUserGroup",[c.action],Object.getOwnPropertyDescriptor(n.prototype,"createUserGroup"),n.prototype),y(n.prototype,"deleteUserGroup",[c.action],Object.getOwnPropertyDescriptor(n.prototype,"deleteUserGroup"),n.prototype),y(n.prototype,"editUserGroup",[c.action],Object.getOwnPropertyDescriptor(n.prototype,"editUserGroup"),n.prototype),y(n.prototype,"redirectToSettings",[c.action],Object.getOwnPropertyDescriptor(n.prototype,"redirectToSettings"),n.prototype),y(n.prototype,"getUserGroup",[c.action],Object.getOwnPropertyDescriptor(n.prototype,"getUserGroup"),n.prototype),n);t.default=E},234:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.generalResponseBuilder=function(e){var t=e.data;if(0===t.status)return t.result;throw console.log(t),new Error(t.reason)}},235:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.buildGeneralHeaders=function(e,t,r){return{dua:r,apiv:n.API_VERSION,sign:(0,o.generateSign)({method:e,path:t,appSecret:n.APP_SECRET,appKey:n.APP_KEY})}};var n=r(154),o=r(147)},255:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.axios=void 0;var n=function(e){return e&&e.__esModule?e:{default:e}}(r(254)),o=r(153);t.axios=n.default.create({baseURL:o.API_END_POINT})},256:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.formatPhoneNumber=function(e){return"+86-"+e}},281:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.login=void 0,t.login=function(){var e=function(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,r){return function n(o,u){try{var a=t[o](u),i=a.value}catch(e){return void r(e)}if(!a.done)return Promise.resolve(i).then(function(e){n("next",e)},function(e){n("throw",e)});e(i)}("next")})}}(regeneratorRuntime.mark(function e(t){var r,o,u,a,i,l,c,s=t.duaId,f=t.username,p=t.password;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r="/login",o="+86-"+f,u={dua:s,apiv:n.API_VERSION},a=(0,n.md5)(p),i={by:"tel",ustr:o,pwd:a},e.next=7,n.axios.post(r,i,{headers:Object.assign({},u,{sign:(0,n.generateSign)({method:"POST",path:r,appSecret:n.APP_SECRET,appKey:n.APP_KEY})}),params:{}});case 7:if(l=e.sent,0!==(c=l.data).status){e.next=13;break}return e.abrupt("return",c.result);case 13:throw new Error(c.reason);case 14:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}();var n=r(54)},286:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.setUserId=t.getUserId=t.setDuaId=t.getDuaId=t.setUserToken=t.getUserToken=void 0;var n=u(r(285)),o=u(r(11));function u(e){return e&&e.__esModule?e:{default:e}}var a=new n.default;t.getUserToken=function(){return a.get("user-token")},t.setUserToken=function(e){o.default.isNil(e)?a.remove("user-token"):a.set("user-token",e)},t.getDuaId=function(){return a.get("dua-id")},t.setDuaId=function(e){o.default.isNil(e)?a.remove("dua-id"):a.set("dua-id",e)},t.getUserId=function(){return a.get("user-id")},t.setUserId=function(e){o.default.isNil(e)?a.remove("user-id"):a.set("user-id",e)}},288:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=f(r(69)),o=f(r(145)),u=f(r(233)),a=f(r(232)),i=f(r(231)),l=f(r(230)),c=f(r(228)),s=f(r(227));function f(e){return e&&e.__esModule?e:{default:e}}var p={authenticationStore:n.default,routingStore:o.default,groupStore:u.default,roleStore:a.default,singleRoleStore:i.default,vfcodeStore:l.default,userStore:c.default,userRoleStore:s.default};t.default=p},305:function(e,t,r){"use strict";var n=f(r(1)),o=f(r(29)),u=r(19),a=r(296),i=f(r(292)),l=r(158),c=f(r(288)),s=f(r(225));function f(e){return e&&e.__esModule?e:{default:e}}var p=(0,i.default)(),d=(0,l.syncHistoryWithStore)(p,c.default.routingStore);o.default.render(n.default.createElement(u.Provider,c.default,n.default.createElement(a.Router,{history:d},n.default.createElement(s.default,null))),document.getElementById("45118caa-2c77-49d9-a293-4ce25d37c43c"))},39:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.buildLoadingAndError=t.isEnabled=t.buildParamURI=void 0;var n=function(e){return e&&e.__esModule?e:{default:e}}(r(1));t.buildParamURI=function(e){var t=e.originalURI,r=e.paramName,n=e.substitutedValue;return _.replace(t,r,n)},t.isEnabled=function(e){return"1"===e?"已激活":"未激活"},t.buildLoadingAndError=function(e){var t=e.loading,r=e.error;return t?n.default.createElement("div",null,"加载中"):r?n.default.createElement("div",null,r):void 0}},508:function(e,t,r){r(507),e.exports=r(305)},54:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(157);Object.defineProperty(t,"md5",{enumerable:!0,get:function(){return n.md5}});var o=r(256);Object.defineProperty(t,"formatPhoneNumber",{enumerable:!0,get:function(){return o.formatPhoneNumber}});var u=r(154);Object.defineProperty(t,"APP_SECRET",{enumerable:!0,get:function(){return u.APP_SECRET}}),Object.defineProperty(t,"APP_KEY",{enumerable:!0,get:function(){return u.APP_KEY}}),Object.defineProperty(t,"API_VERSION",{enumerable:!0,get:function(){return u.API_VERSION}}),Object.defineProperty(t,"setDuaId",{enumerable:!0,get:function(){return u.setDuaId}}),Object.defineProperty(t,"getDuaId",{enumerable:!0,get:function(){return u.getDuaId}});var a=r(255);Object.defineProperty(t,"axios",{enumerable:!0,get:function(){return a.axios}});var i=r(147);Object.defineProperty(t,"generateSign",{enumerable:!0,get:function(){return i.generateSign}});var l=r(235);Object.defineProperty(t,"buildGeneralHeaders",{enumerable:!0,get:function(){return l.buildGeneralHeaders}});var c=r(234);Object.defineProperty(t,"generalResponseBuilder",{enumerable:!0,get:function(){return c.generalResponseBuilder}})},66:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),o=r(1),u=function(e){return e&&e.__esModule?e:{default:e}}(o),a=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.Component),n(t,[{key:"render",value:function(){return u.default.createElement("div",null,"Page not found")}}]),t}();t.default=a},69:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,o,u,a,i,l,c=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),s=r(9),f=(function(e){e&&e.__esModule}(r(11)),r(286)),p=r(281),d=r(104),b=r(146);function h(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,r){return function n(o,u){try{var a=t[o](u),i=a.value}catch(e){return void r(e)}if(!a.done)return Promise.resolve(i).then(function(e){n("next",e)},function(e){n("throw",e)});e(i)}("next")})}}function m(e,t,r,n){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(n):void 0})}function v(e,t,r,n,o){var u={};return Object.keys(n).forEach(function(e){u[e]=n[e]}),u.enumerable=!!u.enumerable,u.configurable=!!u.configurable,("value"in u||u.initializer)&&(u.writable=!0),u=r.slice().reverse().reduce(function(r,n){return n(e,t,r)||r},u),o&&void 0!==u.initializer&&(u.value=u.initializer?u.initializer.call(o):void 0,u.initializer=void 0),void 0===u.initializer&&(Object.defineProperty(e,t,u),u=null),u}var y=new(n=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),m(this,"token",o,this),m(this,"userId",u,this),m(this,"error",a,this),m(this,"duaId",i,this),m(this,"profile",l,this),this.token=(0,f.getUserToken)(),this.duaId=(0,f.getDuaId)(),this.userId=(0,f.getUserId)()}return c(e,[{key:"login",value:function(){var e=h(regeneratorRuntime.mark(function e(t){var r=t.username,n=t.password;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:(0,d.getDuaIdFromServer)().then(function(){var e=h(regeneratorRuntime.mark(function e(t){var o,u;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,o=t.id,e.next=4,(0,p.login)({username:r,password:n,duaId:o});case 4:u=e.sent,y.token=u.token,(0,f.setUserToken)(y.token),y.userId=u.user_id,(0,f.setUserId)(y.userId),console.log(y.userId),y.duaId=u.dua_id,(0,f.setDuaId)(y.duaId),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(0),y.error=e.t0.message;case 17:case"end":return e.stop()}},e,this,[[0,14]])}));return function(t){return e.apply(this,arguments)}}());case 1:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"getProfile",value:function(){var e=h(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,b.getUser)({token:y.token,duaId:y.duaId,user_id:y.userId});case 3:t=e.sent,y.profile=t.data,e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),y.error=e.t0.message;case 10:case"end":return e.stop()}},e,this,[[0,7]])}));return function(){return e.apply(this,arguments)}}()},{key:"logOut",value:function(){y.token=null,y.userId=null,y.duaId=null,(0,f.setUserToken)(null),(0,f.setDuaId)(null),(0,f.setUserId)(null)}},{key:"setUpUser",value:function(){var e=h(regeneratorRuntime.mark(function e(t){var r,n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r=Object.assign(y.profile,t,{user_id:y.user_id}),e.next=4,(0,b.setUpUser)(r);case 4:n=e.sent,y.profile=n.data,e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),y.error=e.t0.message;case 11:case"end":return e.stop()}},e,this,[[0,8]])}));return function(t){return e.apply(this,arguments)}}()}]),e}(),o=v(n.prototype,"token",[s.observable],{enumerable:!0,initializer:function(){return null}}),u=v(n.prototype,"userId",[s.observable],{enumerable:!0,initializer:function(){return null}}),a=v(n.prototype,"error",[s.observable],{enumerable:!0,initializer:function(){return null}}),i=v(n.prototype,"duaId",[s.observable],{enumerable:!0,initializer:function(){return null}}),l=v(n.prototype,"profile",[s.observable],{enumerable:!0,initializer:function(){return null}}),v(n.prototype,"login",[s.action],Object.getOwnPropertyDescriptor(n.prototype,"login"),n.prototype),v(n.prototype,"getProfile",[s.action],Object.getOwnPropertyDescriptor(n.prototype,"getProfile"),n.prototype),v(n.prototype,"logOut",[s.action],Object.getOwnPropertyDescriptor(n.prototype,"logOut"),n.prototype),v(n.prototype,"setUpUser",[s.action],Object.getOwnPropertyDescriptor(n.prototype,"setUpUser"),n.prototype),n);t.default=y},75:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.roleShape=void 0;var n=function(e){return e&&e.__esModule?e:{default:e}}(r(0));t.roleShape=n.default.shape({id:n.default.string,ugrp:n.default.string,usroc:n.default.string,name:n.default.string,granter:n.default.string,code:n.default.string,brief:n.default.string,avartar:n.default.string,enabled:n.default.string,cstamp:n.default.string})},79:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.queryUserGroup=t.getUserGroup=t.editUserGroup=t.deleteUserGroup=t.createUserGroup=void 0,t.createUserGroup=function(){var e=o(regeneratorRuntime.mark(function e(t){var r,o,u,a,i=t.token,l=t.duaId,c=t.bywho,s=t.code,f=t.name,p=t.avatar,d=t.brief;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r="/ugrp",o=(0,n.buildGeneralHeaders)("POST",r,l),u=Object.assign({},{token:i,bywho:c,code:s,name:f,avatar:p,brief:d}),e.next=5,n.axios.post(r,u,{headers:o});case 5:return a=e.sent,e.abrupt("return",(0,n.generalResponseBuilder)(a));case 7:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),t.deleteUserGroup=function(){var e=o(regeneratorRuntime.mark(function e(t){var r,o,u,a,i=t.token,l=t.duaId,c=t.userGroupId;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r="/ugrp/"+c,o=(0,n.buildGeneralHeaders)("DELETE",r,l),u=Object.assign({},{token:i}),e.next=5,n.axios.delete(r,{params:u,headers:o});case 5:return a=e.sent,e.abrupt("return",(0,n.generalResponseBuilder)(a));case 7:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),t.editUserGroup=function(){var e=o(regeneratorRuntime.mark(function e(t){var r,o,u,a,i=t.token,l=t.duaId,c=t.userGroupId,s=t.code,f=t.name,p=t.avatar,d=t.brief,b=t.enabled;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r="/ugrp/"+c,o=(0,n.buildGeneralHeaders)("PUT",r,l),u=Object.assign({},{token:i,code:s,name:f,avatar:p,brief:d,enabled:b}),e.next=5,n.axios.put(r,u,{headers:o});case 5:return a=e.sent,e.abrupt("return",(0,n.generalResponseBuilder)(a));case 7:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),t.getUserGroup=function(){var e=o(regeneratorRuntime.mark(function e(t){var r,o,u,a,i=t.token,l=t.duaId,c=t.userGroupId;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r="/ugrp/"+c,o=(0,n.buildGeneralHeaders)("GET",r,l),u={token:i},e.next=5,n.axios.get(r,{headers:o,params:u});case 5:return a=e.sent,e.abrupt("return",(0,n.generalResponseBuilder)(a));case 7:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),t.queryUserGroup=function(){var e=o(regeneratorRuntime.mark(function e(t){var r,o,u,a,i=t.token,l=t.duaId,c=t.uid,s=t.name,f=t.brief,p=t.offset,d=t.limit,b=t.order;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r="/ugrp",o=(0,n.buildGeneralHeaders)("GET",r,l),u=Object.assign({},{token:i,uid:c,name:s,offset:p,brief:f,limit:d,order:b}),e.next=5,n.axios.get(r,{headers:o,params:u});case 5:return a=e.sent,e.abrupt("return",(0,n.generalResponseBuilder)(a));case 7:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}();var n=r(54);function o(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,r){return function n(o,u){try{var a=t[o](u),i=a.value}catch(e){return void r(e)}if(!a.done)return Promise.resolve(i).then(function(e){n("next",e)},function(e){n("throw",e)});e(i)}("next")})}}}});